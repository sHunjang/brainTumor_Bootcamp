# 뇌종양 자동 진단 AI 프로젝트

## 개요

뇌 CT 이미지를 AI로 분석해 종양의 위치, 크기, 임상적 소견(예상 증상)까지 자동으로 리포트하는 시스템입니다.

---

## 주요 기능

- CT 이미지 기반 뇌종양 탐지 및 위치/크기 예측
- 탐지 위치별 뇌 부위 기능 및 예상 증상 자동 설명
- 결과 시각화(바운딩 박스, Heatmap 등)

---

## 모델 성능 지표

### YOLO 모델 평가 결과

| 지표                | 수치      | 설명                                |
|---------------------|-----------|-------------------------------------|
| 정확도(Accuracy)    | 93.4%     | 전체 예측 중 정답 비율              |
| 정밀도(Precision)   | 91.7%     | 종양으로 예측한 것 중 실제 종양 비율 |
| 재현율(Recall)      | 92.1%     | 실제 종양 중 모델이 놓치지 않은 비율 |
| F1 점수             | 91.9%     | 정밀도와 재현율의 조화 평균         |
| mAP@0.5             | 92.6%     | IoU 0.5 기준 평가지표 (객체탐지)    |

> **참고:**  
> 위 성능 지표는 'ultralytics'사에서 제공하는 데이터셋 중 검증셋(Validation Set)에서 산출한 값으로,  
> 프로젝트의 실제 적용 환경이나 데이터셋 종류에 따라 달라질 수 있음.  
> mAP(mean Average Precision)는 객체 탐지와 같이 바운딩박스 예측 문제에서 많이 사용하는 공식 성능 기준.  

---

## 기술 스택

| 구분     | 사용 기술                   | 비고                        |
|----------|----------------------------|-----------------------------|
| 백엔드   | FastAPI                    | REST API, AI 모델 연동      |
| 프론트   | React                      | 리포트/시각화 UI 제공          |
| DB       | MySQL       | 메타데이터, 리포트 저장     |
| AI       | YOLO(ver.11)         | 종양 탐지                   |
| 기타     | Git         | 버전관리 |
| 협업     | Notion            | 문서화, 커뮤니케이션         |

---

## 뇌 부위별 기능 및 임상 소견 예시

| 뇌 부위      | 주요 기능                  | 종양 시 예상 증상 예시                |
|--------------|---------------------------|---------------------------------------|
| 전두엽       | 운동, 계획, 언어           | 운동 저하, 언어장애, 성격 변화        |
| 두정엽       | 감각 정보 통합, 공간 지각   | 감각 저하, 공간 인식 장애             |
| 측두엽       | 청각, 언어 이해, 기억       | 청각 이상, 기억력 저하, 언어 이해 장애 |
| 후두엽       | 시각 정보 처리             | 시야 결손, 시각 인식 장애             |
| 소뇌         | 운동 조정, 균형 유지       | 운동 실조, 균형 장애, 어지럼증        |
| 뇌간(중뇌)   | 눈 운동, 동공 반사         | 복시, 눈 깜빡임 장애                  |
| 뇌간(교뇌)   | 얼굴 감각, 씹기            | 얼굴 감각 저하, 저작 장애             |
| 뇌간(연수)   | 호흡, 심박 조절, 연하       | 호흡 곤란, 심박수 이상, 연하곤란       |
| 기저핵       | 운동 조절                  | 운동 이상(떨림, 경직)                 |
| 해마         | 기억 형성, 공간 학습        | 단기 기억 상실, 공간 인지 저하         |

---

## 진행 단계 요약

1. 데이터 준비 및 전처리(이미지 크기 통일)
2. AI 모델 학습 및 평가
3. 예측 결과 해석 및 임상 소견 자동화
4. 자동 진단 리포트 및 시각화 자료 생성
5. 문서화, 발표자료, 윤리적 이슈 등 팀원별 역할 수행
6. 최종 점검 및 제출

---

## 💡 프로젝트 실행 가이드

### 1. 환경 준비

- **Python 3.10+ 권장**
- 가상환경 생성 및 패키지 설치:
`conda create -n brain-tumor python=3.10`
`pip install --upgrade pip`
`pip install -r requirements.txt`


### 2. DB 준비

- MySQL 등 RDBMS에서 `brain_regions` 테이블 생성 및 샘플 데이터 입력
- DB 연결 정보는 `app/config/settings.py`에서 관리

### 3. YOLO 모델 파일

- 학습된 모델(`best.pt`)을 `app/ai/models/best.pt` 위치에 저장

### 4. 백엔드 실행

- 루트 경로에서:
`uvicorn app.main:app --reload`

- API 문서: http://localhost:8000/docs 또는 http://127.0.0.1:8000/docs

### 5. 프론트엔드(React) 실행

- 별도 프론트 디렉토리에서:
npm install
npm start
- `.env`에 백엔드 서버 주소 지정 (예: `REACT_APP_BACKEND_URL=http://localhost:8000`)

---

## ✅ 진행 단계 요약

1. **데이터 준비 및 전처리:** 이미지 크기 통일 등
2. **AI 모델 학습 및 평가**
3. **예측 결과 해석 및 임상 소견 자동화**
4. **자동 진단 리포트 및 시각화 자료 생성**
5. **문서화, 발표자료, 윤리적 이슈 등 팀원별 역할 수행**
6. **최종 점검 및 제출**

---

## ⚠️ 참고 및 주의사항

- 이미지 크기 통일(예: 640x640) 필수
- 업로드 이미지는 반드시 크기(예: 640x640) 통일
- 모든 주요 폴더에 `__init__.py` 파일 추가
- DTO에서 Pydantic V2 사용 시 `from_attributes = True`로 변경
- FastAPI `StaticFiles`로 `/uploads` 경로 반드시 서빙
- 500 에러 등 발생 시 서버 로그의 마지막 에러 메시지를 참고

---

**본 문서를 바탕으로 프로젝트를 클론해도, AI 기반 CT 이미지 진단 및 소견 자동화 서비스를 쉽게 실행·확장할 수 있음.**
